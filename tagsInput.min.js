/* 
Author: Yogen
Version: 1.0.0
*/
const utils={hasId:e=>!(void 0===e.id||!e.id)},closeIcon='<svg width="12" height="12" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M15.605 13.5781C16.0734 14.0173 16.0734 14.7298 15.605 15.1691C15.1365 15.6083 14.3765 15.6082 13.908 15.1691L7.99999 9.58906L2.04999 15.1672C1.58154 15.6064 0.821488 15.6064 0.352988 15.1672C-0.115513 14.728 -0.115463 14.0155 0.352988 13.5763L6.30499 8L0.351338 2.37969C-0.117113 1.94051 -0.117113 1.22797 0.351338 0.788747C0.819788 0.349528 1.57984 0.349575 2.04834 0.788747L7.99999 6.41094L13.95 0.832809C14.4184 0.393637 15.1785 0.393637 15.647 0.832809C16.1155 1.27198 16.1154 1.98453 15.647 2.42375L9.69499 8L15.605 13.5781Z" fill="#CFCFCF"/>\n</svg>';class Tags{data=[];element={};id="";delimeter=",";placeholder="Add a tag";constructor(e){let t=e.value;this.data=t.split(/[;,]/),this.element=e,this.id=e.id;let i=e.getAttribute("delimeter"),n=e.getAttribute("placeholder");i&&(this.delimeter=i),n&&(this.placeholder=n);let a=e.value;a&&(this.data=a.split(this.delimeter)),this.init()}init=()=>{const e=document.createElement("div");e.setAttribute("for",this.element.id),e.innerHTML=`<div class="tags-container-wrapper" id="container_wrapper_${this.id}">\n                                <div class="tags-container" id="container_${this.id}">\n                                <div class="input-container" id="input_container_${this.id}"><input class="tags-input" id="tag_input_${this.id}" placeholder="${this.placeholder}" />\n                                <span class="error-box">Error!</span>\n                                </div>\n                                </div>\n                                \n                            </div>`,e.onclick=this.handleContainerClick,e.onkeydown=this.handleKeyPress,this.element.parentElement.append(e),this.element.style.display="none",this.renderAllTags()};handleContainerClick=()=>{document.getElementById("tag_input_"+this.id).focus()};handleKeyPress=e=>{if(13===e.keyCode||e.key===this.delimeter)return e.preventDefault(),this.addTag(),!1};addTag=()=>{let e=document.getElementById("tag_input_"+this.id),t=e.value;if(t&&""!==t){if(!this.isUnique(t))return e.nextElementSibling.style.display="block",e.nextElementSibling.innerHTML="Same tag already exists",!1;e.nextElementSibling.style.display="none",this.data.push(t),this.renderTags(t),document.getElementById("tag_input_"+this.id).value="",this.refreshTags()}};isUnique=e=>!this.data.includes(e);renderAllTags=()=>{Array.isArray(this.data)&&this.data.length>0&&this.data.map(((e,t)=>e?this.renderTags(e,t):""))};refreshTags=()=>{document.getElementById(this.id).value=this.data.join(this.delimeter)};renderTags=(e,t=!1)=>{let i=document.createElement("div");i.classList="tag-node-wrapper";let n=document.createElement("span");n.classList="remove-tag",n.setAttribute("data-index",!1!==t?t+1:this.data.length+1),n.innerHTML=closeIcon,i.innerHTML=`<span class="tag-node">${e}</span>`,i.append(n),document.getElementById("container_"+this.id).append(i),n.onclick=this.removeTag.bind(event,n.previousSibling.innerHTML)};clearAllTags=()=>{document.getElementById("container_"+this.id).querySelectorAll(".tag-node-wrapper").forEach((e=>{e.remove()}))};removeTag=e=>{let t=this.data.filter((t=>t!==e));this.data=t,this.clearAllTags(),this.renderAllTags(),this.refreshTags()}}let allTagsInputElement=document.getElementsByClassName("tagsInput");Object.values(allTagsInputElement).forEach((e=>{utils.hasId(e)||(e.id="tags_"+Date.now()),new Tags(e)}));